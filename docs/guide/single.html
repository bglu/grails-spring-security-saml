<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Spring Security SAML Plugin 2.0.0</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#usage"><strong>2</strong><span>Usage</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>SAML 2.x support for the Spring Security Plugin
</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Spring Security SAML Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Aaron J. Zirbes, Sphoorti Acharya</p>
                            <p><strong>Version:</strong> 2.0.0</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div class="toc-item" style="margin-left:10px"><a href="#history"><strong>1.1</strong><span>History</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#usage"><strong>2</strong><span>Usage</span></a></div>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#configuration"><strong>3</strong><span>Configuration</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="introduction">1 Introduction</h1>
<h1>Spring Security SAML plugin</h1><p class="paragraph"/>The Spring Security SAML plugin aims to add SAML support to Spring Security.  It depends on the http://grails.org/plugin/spring-security-coreSpring Security Core plugin and
http://projects.spring.io/spring-security-saml/Spring Security SAML.<p class="paragraph"/>Once you have configured a SAML 2.0 IDP server(WSO2, Shibboleth etc) and have configured your Grails application(s) as provider, you can authenticate using SAMl 2.0 protocol.



<h2 id="history">1.1 History</h2>
<h1>History</h1>
<ul class="star">
<li>Version 2.0.0</li>
<ul class="star">
<li>released September 30, 2015</li>
</ul>
<li>Version 1.0.0.M20</li>
<ul class="star">
<li>released March 15th, 2013</li>
</ul>
<li>Pre-Release versions up through 1.0.0</li>
<ul class="star">
<li>January 22nd, 2012</li>
</ul></ul><p class="paragraph"/>


<h1 id="usage">2 Usage</h1>
<h1>Usage</h1><p class="paragraph"/><blockquote class="note">
Configuring your IDP server is beyond the scope of this document. There are many different approaches and this will most likely be done by IT staff. It's assumed here that you already have a running IDP server which supports SAML 2.0.
</blockquote><p class="paragraph"/>http://wso2.com/WSO2 is a popular single sign-on implementation. It's open source and is easy to get started with but is also highly configurable.<p class="paragraph"/><h1>Installation</h1><p class="paragraph"/>There isn't much that you need to do in your application to be a SAML client. Add a dependency in `BuildConfig` for this plugin:<p class="paragraph"/><div class="code"><pre>dependencies &#123;
        &#8230;
        compile (<span class="java&#45;quote">"org.springframework.security.extensions:spring&#45;security&#45;saml2&#45;core:1.0.1.RELEASE"</span>) &#123;
            export = <span class="java&#45;keyword">false</span>
        &#125;
&#125;
plugins &#123;
   &#8230;
   compile ':spring&#45;security&#45;saml:2.0.0'
&#125;</pre></div>
then configure any required parameters and whatever optional parameters you want in application.yml or application.groovy. These are described in detail in the include::configuration.adoc section<p class="paragraph"/><blockquote class="note">
The plugin dependencies can be downloaded if you have a proxy server by using the following option "-DPROXY_SERVER_NAME=http://&#60;server&#62;:&#60;port&#62;/nexus/content/groups/public".
This is not mandatory.
</blockquote>


<h1 id="configuration">3 Configuration</h1>
<h1>Configuration options for the plugin</h1><p class="paragraph"/><blockquote class="note">
Any property overrides must be specified in <code>grails-app/conf/Config.groovy</code> using the <code>grails.plugin.springsecurity</code> suffix, for example
<div class="code"><pre>grails.plugin.springsecurity.saml.active = <span class="java&#45;keyword">true</span></pre></div>
</blockquote><p class="paragraph"/>There are several configuration options for the Shibbolet Natibe SP plugin. In practice the defaults are fine for most deployments and only a few will need to be overridden.<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Name</strong></th><th><strong class="bold">Default</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>saml.active</td><td>true</td><td>Activate Spring Security SAML</td></tr><tr class="table-even"><td>saml.afterLoginUrl</td><td>'/'</td><td>Provide the login Url which is intercepted and taken to the IDP login page</td></tr><tr class="table-odd"><td>saml.afterLogoutUrl</td><td>'/'</td><td>Provider after logout url to which user should be redirected to on logout</td></tr><tr class="table-even"><td>saml.userGroupAttribute</td><td>"memberOf"</td><td>specify the saml assertion attribute that holds returned group membership data</td></tr><tr class="table-odd"><td>saml.autoCreate.active</td><td>false</td><td>If you want the plugin to generate users in the DB as they are authenticated via SAML</td></tr><tr class="table-even"><td>saml.autoCreate.key</td><td>'username'</td><td>TODO</td></tr><tr class="table-odd"><td>saml.metadata.defaultIdp</td><td>'ping'</td><td>Default IDP to use in case of multiple IDP setup Ex : adfs, shibb, wso2</td></tr><tr class="table-even"><td>saml.metadata.url</td><td>'/saml/metadata'</td><td>URL where the metatdata for the application (SP) is availiable. You'll need this information to configure your IdP.</td></tr><tr class="table-odd"><td>saml.metadata.providers</td><td>ping :'security/idp-local.xml'</td><td>Identity Service Providers that could be used for this application</td></tr><tr class="table-even"><td>saml.metadata.sp.file</td><td>'security/sp.xml'</td><td>Location of the service provider metadata file. This could be a classpath location, (for example, security/sp.xml) or it could be a absolute location on the machine (for example, C://temp/sp.xml or file:/home/u02/sp.xml)</td></tr><tr class="table-odd"><td>saml.metadata.sp.defaults</td><td>local: true, alias: 'test', securityProfile: 'metaiop', signingKey: 'ping', encryptionKey: 'ping', tlsKey: 'ping', requireArtifactResolveSigned: false, requireLogoutRequestSigned: false, requireLogoutResponseSigned: false</td><td><strong class="bold">local</strong>: Pre-populated to indicate value to be picked up. <strong class="bold">alias</strong>: A alias name that is unique to this application Ex:  application-sp. <strong class="bold">securityProfile</strong>: Pre-populated value. <strong class="bold">signingKey</strong>: A key used to sign the messages that is unique to this application Ex: application-sp. <strong class="bold">encryptionKey</strong>: A key to to encrypt the message that is unique to this application Ex: application-sp. <strong class="bold">tlsKey</strong>: A tls key that is unique to this application Ex: application-sp. <strong class="bold">requireArtifactResolveSigned</strong>: Pre-Populated to set to false indicating artifact to be signed or not. <strong class="bold">requireLogoutRequestSigned</strong>: Pre-Populated to set to false indicating logout request to be signed or not. <strong class="bold">requireLogoutResponseSigned</strong>: Pre-Populated to set to false indicating logout response to be signed or not.</td></tr><tr class="table-even"><td>saml.keyManager.storeFile</td><td>'classpath:security/keystore.jks'</td><td>Location of the keystore file. This could be a classpath (for example, classpath:security/keystore.jks) or it could be a absolute location on the machine (for example, file:c://temp/keystore.jks or file:/home/u02/keystore.jks).</td></tr><tr class="table-odd"><td>saml.keyManager.storePass</td><td>'nalle123'</td><td>Password used to decrypt the keys in the keystore created above.</td></tr><tr class="table-even"><td>saml.keyManager.passwords</td><td>ping: 'ping123'</td><td>Key value pair to validate the key. Contains the key name used at the time of key-Store creation and password to decrypt the same.</td></tr><tr class="table-odd"><td>saml.keyManager.defaultKey</td><td>'ping'</td><td>Key name used at the time of key-store creation</td></tr></table>


                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Items</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Items/reference.html">reference</a>
                        </div>
                        
                        </div>
                    </div>
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
